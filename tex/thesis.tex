% create and set switches
\input{switches}

% warns about outdated packages and missing caption declarations
\RequirePackage[l2tabu,orthodox]{nag}

% set main document class and options
\documentclass[
  % choose font size (PO: should be between 12pt and 14pt)
  fontsize=12pt,
  % calculate appropriate page margins
  % (note: this makes the margins a bit small for me,
  % but otherwise the text area is really small...)
  DIV=12,
  % binding correction subtracted per page
  BCOR=10mm,
  % define page header as part of text area to move the text area down
  % (as we have empty page footers)
  headinclude=true,
]{scrbook}

% include packages
\input{packages}

% set packages options
\input{settings}

% define commands
\input{commands}

% define symbols and acronyms
\input{glossary}

\begin{document}
  \iftoggle{partialCompileMode}{}{
    % title page
    \input{titlepage}
    
    % second title page
    \input{titlepage2}
    
    % table of contents
    \cleardoublepage
    \tableofcontents
    
    % table of symbols and acronyms
    \printglossary[title={Symbols and Acronyms}]
    
    % abstract
    \input{abstract}
    
    % preface
    \input{preface}
  }
  
  % chapters
  \iftoggle{compileChapter1}{\include{1_introduction}}{}
  \iftoggle{compileChapter2}{\include{2_flux_capacitor}}{}
  \iftoggle{compileChapter3}{\include{3_conclusion}}{}
  
  \iftoggle{partialCompileMode}{}{
    % start appendix
    \appendix
    
    % bibliography
    \printbibliography[%
      % change title
      title=Bibliography,
      % use custom heading
      heading=myheading,
      % print custom note
      postnote=mypostnote,
    ]
    \cleardoubleevenemptypage
    
    % add all symbols and acronyms that have not been used
    % in the text to the glossary
    % (this command has to come after all glossary definitions)
    \glsaddallunused
  }
\end{document}
