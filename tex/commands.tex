% \newcommand with variable command names
% (https://tex.stackexchange.com/a/317094)
\makeatletter
\newcommand*{\newnamecommand}{\@star@or@long\new@name@command}
\newcommand*{\new@name@command}[1]{\expandafter\new@command\csname #1\endcsname}
\makeatother

% black-board letters
% define \bbN and \NN (N = arbitrary letter)
\newcommand*{\defbb}[1]{%
  \newnamecommand{bb#1}{\mathbb{#1}}%
  \newnamecommand{#1#1}{\mathbb{#1}}%
}
\defbb{N}
\defbb{R}
\defbb{Z}

% calligraphic letters
% define \calC (C = arbitrary letter)
\newcommand*{\defcal}[1]{\newnamecommand{cal#1}{\mathcal{#1}}}
\defcal{C}
\defcal{O}

% defined terms
\newcommand*{\term}[1]{\emph{#1}}

% mathematic operators
\DeclareMathOperator{\spn}{span}

% shortcut for setting the dictum for a chapter
\newcommand*{\setdictum}[2]{%
  \setchapterpreamble{%
    \dictum[#2]{#1}%
    \chapterheadendvskip%
  }%
}

% fancy quotes (taken from cleanthesis.sty, slightly adapted)
\newcommand*{\hugequote}{%
  \fontsize{75}{80}\selectfont%
  \hspace*{-0.6em}\color{lightgray}%
  \textit{``}%
  \vskip -0.8em%
}

\newcommand*{\cleanchapterquote}[2]{%
  \begin{minipage}{\textwidth}%
    \begin{flushright}
      \begin{minipage}{0.54\textwidth}%
        \begin{flushleft}
          {\hugequote}\textit{#1}
        \end{flushleft}
        \begin{flushright}
          \small--- #2
        \end{flushright}
      \end{minipage}%
    \end{flushright}
  \end{minipage}%
  \bigskip
}

% calculate difference between page numbers
\newcommand*{\pagedifference}[2]{%
  \number\numexpr\getpagerefnumber{#2}-\getpagerefnumber{#1}\relax%
}

% custom TODO command with warning
% (all packages that were tried produced problems)
\newcommand*{\todo}[1]{%
  \GenericWarning{}{%
    LaTeX Warning (\thesubsection\space\currentname): TODO "#1"%
  }%
  \textcolor{red}{TODO: #1}%
}

% set up versioning information
\luaexec{require("version")}
\edef\gitCommitHash{\luadirect{getGitCommitHash()}}
\edef\gitCommitTimeShort{\luadirect{getGitCommitTimeShort()}}
\edef\gitCommitTimeLong{\luadirect{getGitCommitTimeLong()}}
\edef\currentTimeShort{\luadirect{getCurrentTimeShort()}}
\edef\currentTimeLong{\luadirect{getCurrentTimeLong()}}
\edef\getAndIncreaseCompileCounter{\luadirect{getAndIncreaseCompileCounter()}}
